"use strict";var easyPoped=function(){function e(e,t,n){var s=null,o=1e3;switch(!0){case arguments.length<1:throw new Error("msg方法参数至少需要一个输出内容参数！");case 1==arguments.length:if("string"!=typeof e)throw new TypeError("msg方法参数类型不正确！参数必须为字符串类型");s=e;break;case 2==arguments.length:if("string"!=typeof e||"number"!=typeof t)throw new TypeError("msg方法参数类型不正确！第一个应为字符串，第二个应为数字！");s=e,o=t;break;case 3==arguments.length:if("string"!=typeof e||"number"!=typeof t||"[object Array]"!={}.toString.call(n))throw new TypeError("msg方法参数类型不正确！第一个应为字符串，第二个应为数字,第三个应为数组！");s=e,o=t,n}var l=document.createElement("div"),i="popedMsg"+(new Date).getTime();l.id=i,l.className=r.TIPS_OUT_CLASS,p.push(i);var c=document.createElement("div"),d=document.createTextNode(s);if(c.className=r.TIPS_IN_CLASS,c.appendChild(d),l.appendChild(c),n?1==n.length?(l.style.top=isNaN(n[0])?n[0]:n[0]+"px",l.style.left="38%"):(l.style.top=isNaN(n[0])?n[0]:n[0]+"px",l.style.left=isNaN(n[1])?n[1]:n[1]+"px"):(l.style.top="45vh",l.style.left="37vw"),0!=o){var u=setTimeout(function(){a(i),m.splice(m.indexOf(u),1)},o);m.push(u)}return document.body.appendChild(l),p.length>1&&(clearTimeout(m[0]),m.splice(m.indexOf(m[0]),1),a(p[0])),i}function t(e){var t={title:e.title||"弹出层",url:e.url||"",content:e.content||"",icon:e.icon||0,space:e.space||[],style:e.style,closeBtn:e.closeBtn,btns:e.btns||0,btnsRML:e.btnsRML,outClose:e.outClose,btnsFn:e.btnsFn,closeFn:e.closeFn||function(){}},n=null;switch(!0){case""!=t.content:n=b.content(t);break;case""!=t.url:n=b.iframe(t);break;default:throw new Error("easyUtil_poped:没有找到可以打开的页面！")}return n}function n(e){return t({title:e.title||"弹出层",url:e.url||"",space:e.space||[],style:e.style||1,closeBtn:0==e.closeBtn?0:e.closeBtn||1,outClose:e.outClose||!0,closeFn:e.closeFn})}function s(e){return t({title:e.title,content:e.content||"提示内容",space:["20em","13em"],style:e.style,icon:0==e.icon?0:e.icon||2,closeBtn:0==e.closeBtn?0:e.closeBtn||1,btns:[e.btn||"确定"],btnsRML:e.btnsRML||"r",outClose:e.outClose||!1,btnsFn:[e.btnFn||function(){}]})}function o(e){return t({title:e.title,content:e.content||"提示内容",space:["20em","13em"],style:e.style,icon:0==e.icon?0:e.icon||2,closeBtn:0==e.closeBtn?0:e.closeBtn||1,btns:[e.btn1||"确定",e.btn2||"取消"],btnsRML:e.btnsRML||"r",outClose:e.outClose||!1,btnsFn:[e.btn1Fn||function(){},e.btn2Fn||function(){}]})}function a(e){try{document.body.removeChild(document.querySelector("#"+e)),e.indexOf("Msg")>0?p.splice(p.indexOf(e),1):u.splice(u.indexOf(e),1)}catch(e){console.log("当前弹出层已关闭")}}function l(){for(var e=document.body,t=u.length;t--;)e.removeChild(document.querySelector("#"+u[t]));for(var n=p.length;n--;)e.removeChild(document.querySelector("#"+p[n]));movePoped.disable(),p=[],u=[]}function i(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function d(e,t){var n=e.offsetWidth,s=e.offsetHeight,o=t.offsetWidth,a=t.offsetHeight;t.style.top=(s-a)/2+"px",t.style.left=(n-o)/2+"px"}var r={CLOSEID:"easyUtilPopedCloseBtn",IFRAMEID:"easyUtilPopedIframe",TITLEID:"easyUtilPopedTitle",TIPS_OUT_CLASS:"easyUtil-poped-Tips-out",TIPS_IN_CLASS:"easyUtil-poped-Tips-in",SHADE:"easyUtil-poped-ShadeBody",OUT:"easyUtil-poped-out",OUT_2:"easyUtil-poped-out2",ICON:"easyUtil-poped-icon",CLOSE_1:"easyUtil-poped-close1",CLOSE_2:"easyUtil-poped-close2",WARNNING:"easyUtil-poped-warnning",RIGHT:"easyUtil-poped-right",WRONG:"easyUtil-poped-wrong",REQUIRE:"easyUtil-poped-require",BTNLEFT:"easyUtil-poped-btns-left",BTNMIDDLE:"easyUtil-poped-btns-middle",TITLE:"easyUtil-poped-title",TITLE_2:"easyUtil-poped-title2",CONTENT:"easyUtil-poped-content",CONTENT_2:"easyUtil-poped-content2",IFRAME:"easyUtil-poped-iframe",IFRAME_2:"easyUtil-poped-iframe2",BTNS:"easyUtil-poped-btns",BTNS_2:"easyUtil-poped-btns2",BTN1:"easyUtil-poped-btns-btn1",BTN1_2:"easyUtil-poped-btns-btn1-2",BTN2:"easyUtil-poped-btns-btn2",BTN2_2:"easyUtil-poped-btns-btn2-2"},p=[],u=[],m=[],h=function(){function e(e){e=f.getEvent(e);var o=f.getEventTarget(e);switch(e.type){case"mousedown":t=document.querySelector("."+r.OUT),t.contains(o)&&o.id==r.TITLEID?(n=e.clientX-t.offsetLeft,s=e.clientY-t.offsetTop):t=null;break;case"mousemove":null!==t&&(t.style.left=e.clientX-n+"px",t.style.top=e.clientY-s+"px");break;case"mouseup":t=null}}var t=null,n=0,s=0;return{enable:function(){f.initEvent(document,"mousedown",e),f.initEvent(document,"mousemove",e),f.initEvent(document,"mouseup",e)},disable:function(){f.removeEvent(document,"mousedown",e),f.removeEvent(document,"mousemove",e),f.removeEvent(document,"mouseup",e)}}}(),b={basic:function(e){var t="poped"+(new Date).getTime(),n=i("div"),s=i("div"),o=i("div"),a=e.space,l=i("div"),d=c(e.title);switch(u.push(t),N.option=e,n.id=t,n.className=r.SHADE,s.className=r.OUT,o.className=r.TITLE,o.id=r.TITLEID,l.id=r.CLOSEID,!0){case 1==e.closeBtn:l.className=r.ICON+" "+r.CLOSE_1;break;case 2==e.closeBtn:l.className=r.ICON+" "+r.CLOSE_2}return a.length&&(1==a.length?s.style.width=isNaN(a[0])?a[0]:a[0]+"px":(s.style.width=isNaN(a[0])?a[0]:a[0]+"px",s.style.height=isNaN(a[1])?a[1]:a[1]+"px")),2==e.style&&(s.className+=" "+r.OUT_2,o.className+=" "+r.TITLE_2),o.appendChild(d),o.appendChild(l),s.appendChild(o),e.outClose?f.initEvent(n,"click",N.shadeClose):f.initEvent(n,"click",N.btnClose),h.enable(),N.shade=n,{title:o,out:s,shade:n}},iframe:function(e){var t=b.basic(e),n=t.out,s=t.shade.id,o=i("iframe");return o.id=r.IFRAMEID,o.className=r.IFRAME,2==e.style&&(o.className+=" "+r.IFRAME_2),o.src=e.url,n.appendChild(o),t.shade.appendChild(n),document.body.appendChild(t.shade),d(t.shade,n),u.length>1&&a(u[0]),s},content:function(e){var t=b.basic(e),n=i("div"),s=c(e.content),o=i("div"),l=null,p=null,m=t.out,h=t.shade.id,N=i("div");switch(n.id="easyUtilpopedContent",n.className=r.CONTENT,o.id="easyUtilpopedbtns",o.className=r.BTNS,!0){case 2==e.icon:N.className=r.ICON+" "+r.RIGHT;break;case 4==e.icon:N.className=r.ICON+" "+r.REQUIRE;break;case 3==e.icon:N.className=r.ICON+" "+r.WRONG;break;case 1==e.icon:N.className=r.ICON+" "+r.WARNNING}switch(!0){case"r"==e.btnsRML:break;case"l"==e.btnsRML:o.className+=" "+r.BTNLEFT;break;case"m"==e.btnsRML:o.className+=" "+r.BTNMIDDLE}switch(!0){case 1==e.btns.length:l=i("button"),l.className=r.BTN1,l.innerHTML=e.btns[0];break;case 2==e.btns.length:l=i("button"),l.className=r.BTN1,l.innerHTML=e.btns[0],p=i("button"),p.className=r.BTN2,p.innerHTML=e.btns[1]}return 2==e.style&&(n.className+=" "+r.CONTENT_2,o.className+=" "+r.BTNS_2,l&&(l.className+=" "+r.BTN1_2),p&&(p.className+=" "+r.BTN2_2)),l&&o.appendChild(l),p&&o.appendChild(p),n.appendChild(N),n.appendChild(s),m.appendChild(n),m.appendChild(o),t.shade.appendChild(m),document.body.appendChild(t.shade),d(t.shade,m),u.length>1&&a(u[0]),h}},N={option:null,shade:null,target:function(e){return f.stopPropagation(e),e=f.getEvent(e),f.getEventTarget(e)},closeShade:function(e){N.option.closeFn(),N.option.outClose?f.removeEvent(N.shade,"click",N.shadeClose):f.removeEvent(N.shade,"click",N.btnClose),h.disable(),a(N.shade.id),N.option=null,N.shade=null},btnEvent:function(e){switch(!0){case e.className.indexOf(r.BTN1)>-1:N.option.btnsFn[0](),N.closeShade(e);break;case e.className.indexOf(r.BTN2)>-1:N.option.btnsFn[1](),N.closeShade(e)}},shadeClose:function(e){var t=N.target(e);switch(!0){case t.id==r.CLOSEID:N.closeShade(t);break;case"button"==t.tagName.toLowerCase():N.btnEvent(t);break;case t.id==N.shade.id:N.closeShade(t)}},btnClose:function(e){var t=N.target(e);switch(!0){case t.id==r.CLOSEID:N.closeShade(t);break;case"button"==t.tagName.toLowerCase():N.btnEvent(t)}}},f={initEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},getEvent:function(e){return e||window.event},getEventTarget:function(e){return e.target||e.srcElement},getCharCode:function(e){return"number"==typeof e.charCode?e.charCode:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}};return{msg:e,open:n,alert:s,confirm:o,close:l}}();